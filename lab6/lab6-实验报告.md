# 2024年夏季《移动软件开发》实验报告



<center>姓名：经选  学号：21010022019</center>

| 姓名和学号         | 经选，21010022019                                            |
| ------------------ | ------------------------------------------------------------ |
| 本实验属于哪门课程 | 中国海洋大学24夏《移动软件开发》                             |
| 实验名称           | 推箱子游戏                                                   |
| 博客地址           | [移动软件开发lab6 - 中原白也 - 博客园 (cnblogs.com)](https://www.cnblogs.com/makabakaJ/articles/18394385) |
| Github仓库地址     | [233MAKA/mobile-software-lab (github.com)](https://github.com/233MAKA/mobile-software-lab) |



## **一、实验目标**

1. 综合应用所学的知识创建完整的推箱子游戏；
1. 熟练掌握 canvas 和绘图API

## 二、实验步骤

### 1.1 项目创建

一共是两个页面，首页和游戏页面，其中首页用于呈现关卡菜单，点击对应按年度的关卡后进入游戏画面。

### 1.2 页面配置

#### 1.2.1 创建页面文件（初始化）

按照实验报告的步骤来即可，已经非常熟练了

记得将下载的图标放到images文件夹内，方便后续使用

#### 1.2.2 导航栏及页面设计

导航栏配置代码如实验手册所示

在app.wxss中首先设置公共样式，简化样式设计流程

选择关卡页面能够选择不同level的关卡，游戏页面可以显示对应的关卡名称以及关卡。

### 1.3 逻辑实现

#### 1.3.1 common.js实现

使用提供的代码即可，公共逻辑提前存储各个关卡的数据

记得将公共逻辑接口接入游戏的js中，不然无法正确获得数据。

#### 1.3.2 首页逻辑

按照报告中一步步来即可复现

实现关卡列表，以及点击关卡跳转界面等功能

#### 1.3.3 游戏页逻辑

需要使用canvas绘图API，这里有一个问题，旧版的API已经不支持了，实验手册中给出的部分函数在写入的时候会被划去。在做实验的过程中我以为被划去的函数无法正常运行，故而寻找了微信开发者工具的官方文档，企图将旧版接口迁移，但是好像新版接口有问题，无法识别部分API。

后续发现被划去的函数也可以正常运行（无需更改版本也能正常绘图）遂依旧按照实验手册中给出的接口进行。

游戏页面上下左右按钮逻辑中，向右的逻辑函数在实验手册中并未给出，不过实现方法和上下左按钮的实现方法一致，补全即可正常运行。



## 三、程序运行结果

关卡选择页面

<img src="D:\AAA中国海洋大学\11_2024夏\移动软件开发\lab6\lab6-实验报告_image\image-20240903135557748.png" alt="image-20240903135557748" style="zoom:50%;" />

游戏页面

<img src="D:\AAA中国海洋大学\11_2024夏\移动软件开发\lab6\lab6-实验报告_image\image-20240903135517070.png" alt="image-20240903135517070" style="zoom:50%;" />

通关界面：

<img src="D:\AAA中国海洋大学\11_2024夏\移动软件开发\lab6\lab6-实验报告_image\image-20240903135642719.png" alt="image-20240903135642719" style="zoom:50%;" />

## 四、问题总结与体会

该实验没遇到复杂的问题。

本实验综合运用了小程序的基础知识和各类API，同时新加入了canvas绘图API，让我对小程序开发的组件有了一个更新更全面的认知，现在基本已经可以独立写一些简单的小程序了。
